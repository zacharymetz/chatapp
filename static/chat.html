<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel=icon href=/static/img/favicon.png>
    <meta name="viewport" content="width=device-width">
    <!-- Can template in things here like the name of the chat room-->
    <title>Chat Room</title>
    <script src="/static/lib/jquery.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="/static/lib/jsrender.js"></script>
    <script src="/static/lib/swal2.js"></script>
    <script src="/static/lib/jscolor.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <link href="/static/styles/chat.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div class="top-wrapper">
      <div class="messages-container">
        <div class="container-title">
          <div class="menu-icon"></div>
          <div class="title-text">
              CPSC 413
          </div>
          
          <div class="filter-btn filter-btn-active">
            Disscusion Messages
          </div>
          <div class="filter-btn filter-btn-active">
            Questions
          </div>
          <div class="filter-btn">
            Announcments
          </div>
          <div id="current-user"></div>
          <div class="settings-icon"></div>
        </div>
        
        <div class="inner-box">
            <ul class="inverted-list" id="message-list">
              
            </ul>
            


        </div>
      </div>
      

    
      
    </div>
    <div class="message-box-wrapper">
      <div class="message-box inner-box file-drop-area" id="file-drop-area">
        <div class="file-overlay" id="file-drop-pic" >
          <div id="file-upload-icon"></div>
          <p>Upload Files</p>
        </div>
        <input type="hidden" class="jscolor" id="color-area">
        <input type="text" class="message-box-textarea" id="message-text">
        <button class="send-btn"  id="new-question-btn" style="margin-right:0;" >+</button>
        <button class="send-btn" id="send-btn">Send</button>
      </div>
    </div>
    <div class="loader-overlay" id="connection-loader">
      <div class="loader-wrapper">
        <div class="loader-animation" id="connection-loader-animation"></div>
        <div class="loader_text">
          Connecting <br> please wait
        </div>
      </div>
    </div>















    <!-- All the app code goes down here-->
    <script src="/static/scripts/question.js"></script>
    <script src="/static/scripts/chat.js"></script>



    <!-- this is the new multiple choice question window -->
    <div id="newQuestionDialog" title="New Question" style="display: none;"> 
      <div id="tabs">
        <ul>
          <li><a href="#tabs-1">Multiple Choice</a></li>
          <li><a href="#tabs-2">Written Response</a></li>
          <li><a href="#tabs-3">Short Answer</a></li>
        </ul>
        <div id="tabs-1" class="new-question-content">
          <h4>Question Body:</h4>
         <div style="display: flex;align-items: center;margin-bottom:0.5rem;">
           <label for="new-mc-body" style="margin-right:1rem;" >Question :</label>
           <input type="text" id="new-mc-question-body" style="flex-grow: 1">
         </div>
         <div style="display: flex;align-items: center">
          <label for="new-mc-body" style="margin-right:1rem;" >Image (optional) :</label>
          <input type="file" id="new-mc-question-image" style="flex-grow: 1">
        </div>
         <h4>Differnt Choices:</h4>
         <div id="mc-choices">
          
         </div>
         <div class="widget" style="margin-top:1rem;text-align: right">
          <button onclick="addNewMcChoice()">Add Choice</button>
         </div>
         <div class="widget" style="margin-top:1rem;text-align: right">
            <button onclick="CreateNewMcQuestion()">Create Question</button>
           </div>
        </div>

        <div id="tabs-2" class="new-question-content">
          Question Body :
          <br />
          <textarea>
            
          </textarea>
          <div style="display: flex;align-items: center">
              <label for="new-mc-body" style="margin-right:1rem;" >Image (optional) :</label>
              <input type="file" id="new-mc-question-image" style="flex-grow: 1">
            </div>
            <div class="widget" style="margin-top:1rem;text-align: right">
                <button onclick="">Create Question</button>
               </div>
        </div>

        <div id="tabs-3" class="new-question-content">
            Question Body :
            <br />
            <textarea>

            </textarea>
            <div style="display: flex;align-items: center">
                <label for="new-mc-body" style="margin-right:1rem;" >Image (optional) :</label>
                <input type="file" id="new-mc-question-image" style="flex-grow: 1">
              </div>
              <div class="widget" style="margin-top:1rem;text-align: right">
                  <button onclick="">Create Question</button>
                 </div>

        </div>
        
      </div>
    </div>
    <!-- Templates Down Bellow -->
    <script id="message-tmpl" type="text/x-jsrender">
        <li>
            <div class="message">
                <span class="message-time">{{:time}}</span> 
                <span class="message-user  {{:messageClasses}}" {{if user.color != null }}
                style="color:#{{:user.color}};"
            {{/if}}>{{:user.userName}}</span>:
                <span class="message-payload  {{:messageClasses}} ">{{:message}}</span>
            </div>
        </li>

    </script>
    <!-- the user template takes in  -->
    <script id="user-tmpl" type="text/x-jsrender">
        <li class="position">
            <div class="user-tmpl-text"
            {{if publickey != null }}
             onclick="updateInfoContainer('{{:publickey}}')"
            {{/if}}
            {{if color != null }}
                style="color:#{{:color}};"
            {{/if}} >
            {{:userName}}
            {{if online != null }}
            <div class="online-indicator 
            {{if online}}
            online
            {{else}}
            offline
            {{/if}}
            " id="account-online-{{:publickey}}"></div>
            {{/if}}
        </li>
    </script>
  </body>
</html>